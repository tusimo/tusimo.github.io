{"name":"kubernetes","slug":"kubernetes","count":2,"postlist":[{"title":"php 容器化的几点建议","uid":"b14c7bb0c256981c822f52d59e144945","slug":"php-容器化的几点建议","date":"2022-08-10T10:15:00.000Z","updated":"2024-09-23T07:24:49.343Z","comments":true,"path":"api/articles/php-容器化的几点建议.json","keywords":"coding","cover":"https://images.pexels.com/photos/1044990/pexels-photo-1044990.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1","text":"镜像编译基础镜像编译github repo 基础镜像编译使用环境变量替换配置. FROM php:7.2-fpm-alpine # replace repositories RUN sed -i &#39;s&#x2F;dl-cdn.alpinelinux.org&#x2F;mi...","link":"","photos":[],"count_time":{"symbolsCount":"22k","symbolsTime":"20 mins."},"categories":[{"name":"kubernetes","slug":"kubernetes","count":2,"path":"api/categories/kubernetes.json"},{"name":"php","slug":"kubernetes/php","count":1,"path":"api/categories/kubernetes/php.json"}],"tags":[{"name":"php","slug":"php","count":1,"path":"api/tags/php.json"},{"name":"kubernetes","slug":"kubernetes","count":2,"path":"api/tags/kubernetes.json"},{"name":"nginx","slug":"nginx","count":1,"path":"api/tags/nginx.json"},{"name":"docker","slug":"docker","count":1,"path":"api/tags/docker.json"}],"author":{"name":"tusimo","slug":"tusimo","avatar":"https://avatars.githubusercontent.com/u/4344635?v=4","link":"https://github.com/tusimo","description":"Think like an artist, code like an artisan.","socials":{"github":"https://tusimo.github.io","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},{"title":"高峰时期上线 HPA 引起的副本抖动","uid":"7217aeb6d9a4e768dbd053e0d0297223","slug":"高峰时期上线-HPA-引起的副本抖动","date":"2022-08-11T13:11:00.000Z","updated":"2024-09-23T07:24:49.344Z","comments":true,"path":"api/articles/高峰时期上线-HPA-引起的副本抖动.json","keywords":"coding","cover":[],"text":"现象我们在引入kubernetes的hpa功能后,高峰时期上线我们的pod副本数会缩小到replicas指定的数量后,然后hpa又会开始扩容,这个时候我们的pod无法支撑请求数,会出现大量的超时.等到hpa扩容后会恢复,导致高峰时期不敢轻易上线. 原因没有hpa之前,我们的副本数...","link":"","photos":[],"count_time":{"symbolsCount":"2.2k","symbolsTime":"2 mins."},"categories":[{"name":"kubernetes","slug":"kubernetes","count":2,"path":"api/categories/kubernetes.json"}],"tags":[{"name":"kubernetes","slug":"kubernetes","count":2,"path":"api/tags/kubernetes.json"},{"name":"hpa","slug":"hpa","count":1,"path":"api/tags/hpa.json"},{"name":"pod","slug":"pod","count":1,"path":"api/tags/pod.json"}],"author":{"name":"tusimo","slug":"tusimo","avatar":"https://avatars.githubusercontent.com/u/4344635?v=4","link":"https://github.com/tusimo","description":"Think like an artist, code like an artisan.","socials":{"github":"https://tusimo.github.io","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}]}