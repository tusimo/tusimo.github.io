{"title":"Istio 无法支持 HTTP1.0 和访问接口存在延迟的解决办法","uid":"8c86b39e74b792721702587f520ee80d","slug":"Rancher-启动-Istio-后无法支持-HTTP1-0-和访问接口存在延迟的解决办法","date":"2022-08-10T06:24:00.000Z","updated":"2022-08-10T07:47:23.931Z","comments":true,"path":"api/articles/Rancher-启动-Istio-后无法支持-HTTP1-0-和访问接口存在延迟的解决办法.json","keywords":null,"cover":[],"content":"<h1 id=\"现象\"><a href=\"#现象\" class=\"headerlink\" title=\"现象\"></a>现象</h1><p><code>Rancher</code> 通过 <code>RKE</code> 部署了 <code>K8S</code> 集群后,启动了 <code>Istio</code>,由于一些项目使用的事 <code>HTTP/1.0</code>协议,访问出现问题. <code>Istio</code> 默认只支持 <code>HTTP/1.1</code> 以上协议版本，并不支持 <code>HTTP/1.0</code>。</p>\n<h1 id=\"原因\"><a href=\"#原因\" class=\"headerlink\" title=\"原因\"></a>原因</h1><p><code>Istio</code> 默认不支持 <code>HTTP1.0</code> 协议</p>\n<p><a href=\"https://istio.io/latest/docs/reference/commands/pilot-agent/\">Istio 配置参考</a></p>\n<p><img src=\"/images/pasted-1.png\" alt=\"upload successful\"></p>\n<h1 id=\"解决办法\"><a href=\"#解决办法\" class=\"headerlink\" title=\"解决办法\"></a>解决办法</h1><p>修改环境变量 <code>PILOT_HTTP10</code> 为 1,即可增加对 <code>HTTP1.0</code>的支持。</p>\n<h2 id=\"Rancher-部署的ISTIO\"><a href=\"#Rancher-部署的ISTIO\" class=\"headerlink\" title=\"Rancher 部署的ISTIO\"></a>Rancher 部署的ISTIO</h2><p><img src=\"/images/pasted-0.png\" alt=\"upload successful\"></p>\n<p>主要<br>主要对</p>\n","text":"现象Rancher 通过 RKE 部署了 K8S 集群后,启动了 Istio,由于一些项目使用的事 HTTP/1.0协议,访问出现问题. Istio 默认只支持 HTTP/1.1 以上协议版本，并不支持 HTTP/1.0。 原因Istio 默认不支持 HTTP1.0 协议 Ist...","link":"","photos":[],"count_time":{"symbolsCount":218,"symbolsTime":"1 mins."},"categories":[{"name":"Kubernetes","slug":"Kubernetes","count":1,"path":"api/categories/Kubernetes.json"}],"tags":[{"name":"RKE","slug":"RKE","count":1,"path":"api/tags/RKE.json"},{"name":"Rancher","slug":"Rancher","count":1,"path":"api/tags/Rancher.json"},{"name":"Istio","slug":"Istio","count":1,"path":"api/tags/Istio.json"},{"name":"HTTP","slug":"HTTP","count":1,"path":"api/tags/HTTP.json"},{"name":"Kubernetes","slug":"Kubernetes","count":1,"path":"api/tags/Kubernetes.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E7%8E%B0%E8%B1%A1\"><span class=\"toc-text\">现象</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%8E%9F%E5%9B%A0\"><span class=\"toc-text\">原因</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95\"><span class=\"toc-text\">解决办法</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Rancher-%E9%83%A8%E7%BD%B2%E7%9A%84ISTIO\"><span class=\"toc-text\">Rancher 部署的ISTIO</span></a></li></ol></li></ol>","author":{"name":"tusimo","slug":"tusimo","avatar":"https://avatars.githubusercontent.com/u/4344635?v=4","link":"https://github.com/tusimo","description":"Think like an artist, code like an artisan.","socials":{"github":"https://tusimo.github.io","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{},"next_post":{}}